

CREATE TABLE IF NOT EXISTS Users
(
	user_id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
	email VARCHAR(35),
	password VARCHAR(255),
	user_type VARCHAR(15),
	fName VARCHAR(20),
	lName VARCHAR(20),
	address VARCHAR(100),
	zip SMALLINT,
	phone VARCHAR(15),
	isMale BOOLEAN
);

CREATE TABLE IF NOT EXISTS Volunteers
( 	
	Volunteer_id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
	affiliation CHAR(20),
	canPickUp BOOLEAN,
	canHomeShare BOOLEAN, 
	passengers SMALLINT UNSIGNED,
	suitcases SMALLINT UNSIGNED,
	beginHomeShare DATETIME,
	endHomeShare DATETIME,
    	user_id INT(10) unsigned NOT NULL,
    	CONSTRAINT FK_users FOREIGN KEY(user_id) 
	REFERENCES Users(user_id) 
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Contacts
(
	Contact_id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
	isVolunteer BOOLEAN,
	contactName VARCHAR(50),
	contactPhone VARCHAR(15),
	contactRelation VARCHAR(30),
	user_id INT(10) unsigned NOT NULL,
    	CONSTRAINT FK_users2 FOREIGN KEY(user_id) 
	REFERENCES Users(user_id) 
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS VolAvailables
( 	
	Avail_id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
	volunteer_id INT(10) unsigned NOT NULL,
	beginTime DATETIME,
	endTime DATETIME,
	filled BOOLEAN,
	CONSTRAINT FK_volunteers FOREIGN KEY(volunteer_id) 
	REFERENCES Volunteers(volunteer_id) 
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Students
(
	Student_id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
	affiliation VARCHAR(20),
	needPickUp BOOLEAN,
	needHomeShare BOOLEAN,
	beginHomeShare DATETIME,
	endHomeShare DATETIME,
	airline VARCHAR(25),
	flightNumber VARCHAR(25),
	arrivalTime DATETIME,
	user_id INT(10) unsigned NOT NULL,
    	CONSTRAINT FK_users3 FOREIGN KEY(user_id) 
	REFERENCES Users(user_id) 
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PickUps
(
	PickUp_id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Student_id INT(10) UNSIGNED NOT NULL,
	Volunteer_id INT(10) UNSIGNED NOT NULL,
	date DATETIME,
    	CONSTRAINT FK_stu_id FOREIGN KEY(Student_id)
	REFERENCES Students(Student_id)
	ON UPDATE CASCADE
	ON DELETE CASCADE,
    	CONSTRAINT FK_vol_id FOREIGN KEY(Volunteer_id) 
	REFERENCES Volunteers(Volunteer_id)	
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS HomeShares
(
	HomeShare_id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Student_id INT(10) UNSIGNED NOT NULL,
	Volunteer_id INT(10) UNSIGNED NOT NULL,
    	CONSTRAINT FK_stu_id2 FOREIGN KEY(Student_id)
	REFERENCES Students(Student_id)
	ON UPDATE CASCADE
	ON DELETE CASCADE,
    	CONSTRAINT FK_vol_id2 FOREIGN KEY(Volunteer_id) 
	REFERENCES Volunteers(Volunteer_id)	
	ON UPDATE CASCADE
	ON DELETE CASCADE
);
